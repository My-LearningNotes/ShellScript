Shell ``test``\ 命令
====================

``test``\ 是Shell内置命令, 用来检测某个条件是否成立.
``test``\ 通常和\ ``if``\ 语句一起使用, 并且大部分\ ``if``\ 语句都依赖\ ``test``\ .

``test``\ 命令有很多选项, 可以进行\ **数值**\ , \ **字符串**\ 和\ **文件**\ 三个方面的检测.

Shell ``test``\ 命令的用法为:

.. code-block:: sh

    test expression

当\ ``test``\ 判断\ ``expression``\ 成立时, 退出状态为0(表示"真"), 否则为非0值(表示"假").

``test``\ 命令也可以简写为\ ``[]``\ , 它的用法为:

.. code-block:: sh

    [ expression ]

注意\ ``[]``\ 和\ ``expression``\ 之间的空格, 这两个空格是必须的, 否则会导致语法错误.
``[]``\ 的写法更加简洁, 比\ ``test``\ 使用频率高.


与文件检测相关的test选项
------------------------

*   文件类型判断

===============  =========================================
选项             作用
``-b filename``  判断文件是否存在, 并且是否为块设备文件.
``-c filename``  判断文件是否存在, 并且是否为字符设备文件.
``-d filename``  判断文件是否存在, 并且是否为目录文件.
``-e filename``  判断文件是否存在.
``-f filename``  判断文件是否存在, 并且是否为普通文件.
``-L filename``  判断文件是否存在, 并且是否为符号链接文件.
``-p filename``  判断文件是否存在, 并且是否为管道文件.
``-s filename``  判断文件是否存在, 并且是否为非空.
``-S filename``  判断文件是否存在, 并且是否为套接字文件.
===============  =========================================

*   文件权限判断

===============  =====================================
选项             作用
``-r filename``  判断文件是否存在, 并且是否有读权限.
``-w filename``  判断文件是否存在, 并且是否有写权限.
``-x filename``  判断文件是否存在, 并且是否有执行权限.
``-u filename``  判断文件是否存在, 并且是否有SUID权限.
``-g filename``  判断文件是否存在, 并且是否有SGID权限.
``-k filename``  判断文件是否存在, 并且是否有SBIT权限.
===============  =====================================

*   文件比较

===========================   ==========================================
选项                          作用
``filename1 -nt filename2``   判断filenam1的修改时间是否比filename2的新.
``filename1 -ot filename2``   判断filenam1的修改时间是否比filename2的旧.
``filename1 -ef filename2``   判断filename1是否和filename2的inode号一致,

                              可以理解为两个文件是否为同一个文件, 
                              
                              这个判断用于判断硬链接是很好的方法.
===========================   ==========================================


与数值比较相关的test选项
------------------------

================= =========================================
选项              作用
``num1 -eq num2`` equal, 判断num1是否等于num2.
``num1 -ne num2`` not equal, 判断num1是否不等于num2.
``num1 -gt num2`` greather than, 判断num1是否大于num2.
``num1 -ge num2`` greather equal, 判断num1是否大于等于num2.
``num1 -lt num2`` less than, 判断num1是否小于num2.
``num1 -le num2`` less equal, 判断num1是否小于等于num2.
================= =========================================


与字符串判断相关的test选项
--------------------------

================ ===========================================================
选项             作用
``-z str``       判断字符串str是否为空.
``-n str``       判断字符串str是否为非空.
``str1 = str2``  判断str1和str2是否相等.
``str1 == str2`` 判断str1和str2是否相等.
``str1 != str2`` 判断str1和str2是否不等.
``str1 \> str2`` 判断str1是否大于str2.

                 ``\>``\ 是\ ``>``\ 的转义字符, 防止被误认为成重定向运算符.
``str1 /< str2`` 判断str1是否小于str2.

                 ``/<``\ 是\ ``<``\ 的转义字符, 防止被误认为成重定向运算符.
================ ===========================================================

